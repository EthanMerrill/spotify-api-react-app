{"version":3,"sources":["components/D3Chart.js","components/SpotifySelectors.js","components/PlaylistInterface.js","pages/Home.js","components/Redirect.js","App.js","reportWebVitals.js","index.js"],"names":["D3Chart","props","data","trackAttribute","setSongIdOrder","useState","sortedData","setSortedData","bars","setBars","orderMethod","setOrderMethod","playlistStats","setPlaylistStats","chartOffset","chartHeight","length","useEffect","Math","max","apply","map","o","min","reduce","p","c","console","log","sort","a","b","tempDesc","everyOther","filter","element","index","OddsOther","dataFirstHalf","dataSecondHalf","concat","yScale","d3","domain","range","padding","xScale","d","id","chartData","trackName","track","name","x","y","indexOf","width","height","className","ToggleButtonGroup","color","value","exclusive","onChange","event","newAlignment","ToggleButton","toFixed","avg","style","fill","x1","x2","y1","y2","stroke","strokeWidth","barHeight","rx","SpotifySelectors","access_token","setSongsDetails","setTrackAttribute","setSelectedPlaylist","selectedPlaylist","playlists","setPlaylists","songlist","setSonglist","headers","axios","get","then","response","items","elm","label","error","trackids","promises","method","url","String","Object","assign","audio_features","find","alert","Promise","resolve","results","get50SongsDetails","Autocomplete","disablePortal","options","sx","isOptionEqualToValue","option","renderInput","params","TextField","PlaylistInterface","playlist","songIdOrder","userData","setUserData","playlistTextbox","setPlaylistTextbox","variant","e","text","target","onClick","playlistName","playlistSongs","status","statusText","saveNew","playlistId","addToPlaylist","Home","hash","window","location","substring","songsDetails","React","Redirect","clientId","process","redirect_uri","href","encodeURIComponent","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","theme","createTheme","palette","mode","primary","main","light","dark","backgroundColor","contrastText","secondary","contrastThreshold","tonalOffset","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.ef35f2c5.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as d3 from 'd3'\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\n// https://www.youtube.com/watch?v=zXBdNDnqV2Q\r\n\r\nconst D3Chart = (props) => {\r\n    // destructure props\r\n    const { data } = props // don't want to see props other places. \r\n    const { trackAttribute } = props\r\n    const {setSongIdOrder} = props\r\n    // State Variables\r\n    const [sortedData, setSortedData] = useState(null)\r\n    const [bars, setBars] = useState(null)\r\n    const [orderMethod, setOrderMethod] = useState('None')\r\n    const [playlistStats, setPlaylistStats] = useState({\r\n        'max': 0,\r\n        'min': 0,\r\n        'avg': 0\r\n        })\r\n    //constant vars\r\n    const barHeight = 30\r\n    const chartWidth = 800\r\n    const chartOffset = 40\r\n    let chartHeight = data ? (data?.length * (barHeight + 5)) + (chartOffset) : 0 \r\n\r\n    //use effects\r\n\r\n        //update stats\r\n    useEffect(() => {\r\n\r\n        if (data !== null){\r\n            setPlaylistStats({\r\n                'max': (Math.max.apply(Math, data?.map(function (o) { return o[trackAttribute] }))),\r\n                'min': (Math.min.apply(Math, data?.map(function (o) { return o[trackAttribute] }))),\r\n                'avg': data?.reduce((p, c) => p + c[trackAttribute], 0) / data?.length\r\n            })\r\n        }\r\n    }, [data, trackAttribute])\r\n    \r\n        // a method to sort the playlist\r\n    useEffect(() => {\r\n        if (data){\r\n            console.log(data, typeof (data))\r\n            switch (orderMethod) {\r\n                case 'Descending':\r\n                    setSortedData([...data].sort((a, b) => {\r\n                        return b[trackAttribute] - a[trackAttribute]\r\n                    }))\r\n                    break\r\n                case 'Ascending':\r\n                   setSortedData([...data].sort((a, b) => {\r\n                        return a[trackAttribute] - b[trackAttribute]\r\n                    }))\r\n                    break\r\n                case 'Peak':\r\n                    let tempDesc = [...data].sort((a, b) => {\r\n                        return b[trackAttribute] - a[trackAttribute]\r\n                    })\r\n\r\n                    let everyOther = tempDesc.filter((element, index) => {\r\n                        return index % 2 === 0;\r\n                    })\r\n                    let OddsOther = tempDesc.filter((element, index) => {\r\n                        return index % 2 !== 0;\r\n                    })\r\n\r\n                    let dataFirstHalf = everyOther.sort((a, b) => {\r\n                        return a[trackAttribute] - b[trackAttribute]\r\n                    })\r\n                    let dataSecondHalf = OddsOther.sort((a, b) => {\r\n                        return b[trackAttribute] - a[trackAttribute]\r\n                    })\r\n                    setSortedData(dataFirstHalf.concat(dataSecondHalf))\r\n                    break\r\n                case 'None':\r\n                    setSortedData(data)\r\n                    break\r\n                default:\r\n                    setSortedData(data)\r\n                    break\r\n\r\n            }\r\n        } else {\r\n            setBars(null)\r\n        }\r\n    }, [orderMethod, trackAttribute, data])\r\n\r\n    useEffect(() => {\r\n        if (typeof (sortedData) !== 'undefined') {\r\n            console.log(sortedData)\r\n            let yScale = d3.scaleBand().domain(d3.range(data?.length)).range([0, chartHeight-chartOffset]).padding(.05)\r\n            let xScale = d3.scaleLinear().domain([0, playlistStats.max]).range([0, 100])\r\n\r\n            setSongIdOrder(sortedData?.map(d => {\r\n                return `spotify:track:${d?.id}`\r\n            }))\r\n            \r\n            let chartData = sortedData?.map(d => {\r\n                return {\r\n                    trackName: d?.track?.name,\r\n                    x: 50,\r\n                    y: yScale(sortedData?.indexOf(d)),\r\n                    width: xScale(d[trackAttribute]),\r\n                    height: barHeight,\r\n                }\r\n            \r\n            })\r\n            setBars(chartData)\r\n        }\r\n    }, [data, chartHeight, trackAttribute, playlistStats, orderMethod, sortedData, setSongIdOrder])\r\n\r\n    const handleChange = (event, newAlignment) => {\r\n        setOrderMethod(newAlignment);\r\n    };\r\n\r\n    return (\r\n        <> {/*this iS A FRAGMENT*/}\r\n        \r\n        <div className = 'sort-controls'>\r\n            <h3>Sort Method  </h3>\r\n                <ToggleButtonGroup\r\n                    color=\"primary\"\r\n                    value={orderMethod}\r\n                    exclusive\r\n                    onChange={handleChange}\r\n                >\r\n                    <ToggleButton value=\"None\">None</ToggleButton>\r\n                    <ToggleButton value=\"Ascending\">Ascending</ToggleButton>\r\n                    <ToggleButton value=\"Descending\">Descending</ToggleButton>\r\n                    <ToggleButton value=\"Peak\">Peak</ToggleButton>\r\n\r\n                </ToggleButtonGroup>\r\n        </div>\r\n\r\n        <div className = 'playlist-stats card'>\r\n            {data &&\r\n            <>\r\n                <h3>Min {trackAttribute}: {playlistStats.min.toFixed(2)}</h3>\r\n                <h3>Max {trackAttribute}: {playlistStats.max.toFixed(2)}</h3>\r\n                <h3>Average {trackAttribute}: {playlistStats.avg.toFixed(2)}</h3>\r\n            </>\r\n            }\r\n        </div>\r\n\r\n        <div id = 'chart'>\r\n           \r\n            {/* Add a TERNARY ??, React Fragments sort of like an invisible bundler div */}\r\n            <svg id='songChart' height={chartHeight} width={chartWidth}>\r\n                <text x={50} y={15} style={{fill: '#FFFFFF'}}>{trackAttribute}</text>\r\n                <text x={ bars ? Math.max.apply(Math, bars.map(function (o) { return o.width + 50 }))+8 : 20} y={15} style={{ fill: '#FFFFFF' }}>Songs</text>\r\n                <line x1={0} x2={chartWidth} y1={chartOffset-15} y2={chartOffset-15} stroke='white' strokeWidth='.1' />\r\n                \r\n\r\n                {data && bars &&\r\n                    bars?.map(bars => {\r\n                        return <g key={bars.y}>\r\n                            <text x={bars.x + 110} y={bars.y + (barHeight/1.5)+chartOffset} style={{ fill: '#FFFFFF' }}>{bars?.trackName} </text>\r\n                            <rect x={bars.x} y={bars.y + chartOffset} width={bars.width} height={bars.height} style={{ fill:'#1DB954', rx: '4px'}}></rect>\r\n                            \r\n                        </g>\r\n                    })\r\n                \r\n                }\r\n                {data && bars &&\r\n                    <g>\r\n\r\n                    <line x1={Math.max.apply(Math, bars.map(function (o) { return o.width + 50 }))} y1={chartOffset} x2={Math.max.apply(Math, bars.map(function (o) { return o.width+50 }))} y2={chartHeight} stroke='white' strokeWidth=\".3\" />\r\n                    <line x1={50} y1={chartOffset} x2={50} y2={chartHeight} stroke='white' strokeWidth=\".3\"/>\r\n\r\n                    {/* Max Lines */}\r\n                    {/* <line x1={Math.max.apply(Math, bars.map(function (o) { return o.width + 50 }))} x2={300} y1={chartOffset} y2={30} stroke='white' strokeWidth='.3'/> */}\r\n                    {/* Avg Line */}\r\n                    {/* <line x1={} x2={} y1={} y2={} stroke='white' strokeWidth='.3'/> */}\r\n\r\n                    {/* Min Ln */}\r\n                        {/* <line x1={Math.min.apply(Math, bars.map(function (o) { return o.width + 50 }))} x2={200} y1={chartOffset} y2={30} stroke='white' strokeWidth='.3'/> */}\r\n                    {/* <line x1={} x2={} y1={} y2={} stroke='white' strokeWidth='.3'/> */}\r\n                    </g>\r\n                }\r\n                \r\n            </svg>\r\n           \r\n        </div>\r\n         </>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default D3Chart","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport TextField from '@mui/material/TextField';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\nconst SpotifySelectors = (props) => {\r\n    //destructure\r\n    const {access_token} = props\r\n\r\n    const {setSongsDetails} = props\r\n\r\n    const {setTrackAttribute} = props\r\n    const {trackAttribute} = props\r\n    \r\n    const {setSelectedPlaylist} = props\r\n    const {selectedPlaylist} = props\r\n    //state vars\r\n    const [playlists, setPlaylists] = useState(['No Playlists Found'])\r\n    // const [selectedPlaylist, setSelectedPlaylist] = useState(null)\r\n    const [songlist, setSonglist] = useState(null)\r\n    //const vars\r\n\r\n    //use effects\r\n        //Get Spotify Playlists\r\n    useEffect(() => {\r\n        \r\n        const headers = {\r\n            'Authorization': 'Bearer ' + access_token\r\n        }\r\n        axios.get(`https://api.spotify.com/v1/me/playlists?limit=50`, { headers: headers })\r\n            .then((response) => {\r\n                setPlaylists(response?.data?.items?.map(elm => {\r\n                    return { label: elm.name, data: elm }\r\n                }))\r\n            }, (error) => {\r\n                console.log(error);\r\n            })\r\n\r\n    }, [access_token]);\r\n\r\n        // get songs in the playlists\r\n    useEffect(() => {\r\n        // Cleaner way of doing this??\r\n        if(typeof(selectedPlaylist) !== 'undefined'){   \r\n            const headers = {\r\n                'Authorization': 'Bearer ' + access_token\r\n            }\r\n            axios.get(`https://api.spotify.com/v1/playlists/${selectedPlaylist?.id}/tracks`, { headers: headers })\r\n                .then((response) => {\r\n                    setSonglist(response)\r\n                    songlist?.items?.map(elm => {\r\n                        return elm\r\n                    })\r\n                }, (error) => {\r\n                    console.log('this error', selectedPlaylist, error);\r\n                })\r\n        } else {\r\n            console.log('no playlist selected')\r\n            setSongsDetails(null)\r\n            setSonglist(null)\r\n        }\r\n    }, [selectedPlaylist, access_token, songlist?.items, setSongsDetails])\r\n\r\n        // get the details of each song in the songlist\r\n    useEffect(() => {\r\n\r\n        //Function to get all song information and details, up to 50 tracks at a time:\r\n        const get50SongsDetails = (songlist) => {\r\n            const headers = {\r\n                'Authorization': 'Bearer ' + access_token\r\n            }\r\n            let trackids = songlist?.data?.items?.map(track => {\r\n                return (track.track.id)\r\n            })\r\n            let promises = axios({\r\n                method: 'GET',\r\n                url: `https://api.spotify.com/v1/audio-features/?ids=${String(trackids)}`,\r\n                headers: headers\r\n            }).then((response) => {\r\n\r\n                // console.log(response.data.audio_features)\r\n                // console.log(songlist.data.items)\r\n                let res = songlist.data.items.map(track => {\r\n                    return Object.assign(track, response.data.audio_features.find(elm => elm?.id === track?.track?.id))\r\n                })\r\n                return (res)\r\n            }, (error) => {\r\n                console.log(error)\r\n                alert(error)\r\n                return (error)\r\n            })\r\n\r\n            Promise.resolve(promises).then(results => {\r\n                setSongsDetails(results)\r\n            })\r\n        }\r\n\r\n\r\n        if (songlist && typeof (selectedPlaylist) !== 'undefined'){\r\n            // let fullSongsDetails = []\r\n            // console.log(songlist?.data?.items.length)\r\n            // for(let i=0; i<songlist?.data?.items.length;i=i+50){\r\n            //     fullSongsDetails.push(...songlist?.data?.items?.slice(i, i + 50))\r\n            // }\r\n            // console.log(fullSongsDetails)\r\n           setSongsDetails(get50SongsDetails(songlist))\r\n        } else {\r\n            setSongsDetails(null)\r\n        }\r\n\r\n\r\n    }, [selectedPlaylist, access_token, songlist, setSongsDetails])\r\n\r\n    \r\n\r\n\r\n\r\n    const handleChange = (event, newAlignment) => {\r\n        setTrackAttribute(newAlignment);\r\n\r\n    };\r\n\r\n\r\n    //jsx return\r\n    return (<>\r\n\r\n        <div className='inputs-flex'>\r\n            <div className=\"autocomplete-container\">\r\n        <Autocomplete\r\n            disablePortal\r\n            id=\"combo-box\"\r\n            options={playlists}\r\n            sx={{ width: 300 }}\r\n            onChange={(event, value) => setSelectedPlaylist(value?.data)}\r\n            isOptionEqualToValue={(option, value) => option.id === value.id}\r\n            renderInput={(params) => <TextField {...params} label=\"Playlist\" />}\r\n        />\r\n            </div>\r\n        <div className='mini-box'>\r\n        <h3> Sort Metric</h3>\r\n        <ToggleButtonGroup\r\n            color=\"primary\"\r\n            value={trackAttribute}\r\n            exclusive\r\n            onChange={handleChange}\r\n        >\r\n            <ToggleButton value=\"danceability\">danceability</ToggleButton>\r\n            <ToggleButton value=\"energy\">energy</ToggleButton>\r\n            <ToggleButton value=\"key\">key</ToggleButton>\r\n            {/* <ToggleButton value=\"loudness\">loudness</ToggleButton> */}\r\n            <ToggleButton value=\"speechiness\">speechiness</ToggleButton>\r\n            <ToggleButton value=\"tempo\">tempo</ToggleButton>\r\n        </ToggleButtonGroup>\r\n            </div>\r\n\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default SpotifySelectors\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst PlaylistInterface = (props) => {\r\n    //deconstruct props\r\n    const {playlist} = props\r\n    const {access_token} = props\r\n    const {songIdOrder} = props\r\n   \r\n    // state vars\r\n    const [userData, setUserData] = useState(null)\r\n    const [playlistTextbox, setPlaylistTextbox] = useState(\"\")\r\n\r\n    // use effects\r\n        // update the textbox\r\n\r\n\r\n        // get the user id\r\n    useEffect(()=>{\r\n        const headers = {\r\n            'Authorization': 'Bearer ' + access_token,\r\n        }\r\n        axios.get(`https://api.spotify.com/v1/me/`, { headers: headers })\r\n            .then((response) => {\r\n                setUserData(response)\r\n            }, (error) => {\r\n                console.log(error);\r\n            })\r\n    },[access_token])\r\n\r\n    //other functions\r\n        // save a new playlist\r\n    let saveNew = (access_token, userData, playlistName, playlistSongs) => {\r\n       \r\n        const headers = {\r\n            'Authorization': 'Bearer ' + access_token,\r\n        }\r\n        const data = {\r\n            \"name\": playlistName,\r\n            \"description\": \"Playlist Sorted with Jamsort\",\r\n            \"public\": true\r\n        }\r\n        // axios.post(`https://api.spotify.com/v1/users/${userData.data.id}/playlists`, { headers: headers, body: data})\r\n        axios({\r\n            method: 'post',\r\n            url: `https://api.spotify.com/v1/users/${userData.data.id}/playlists`,\r\n            headers: headers,\r\n            data: data\r\n        })\r\n            .then((response) => {\r\n                const headers = {\r\n                    'Authorization': 'Bearer ' + access_token,\r\n                }\r\n\r\n                axios({\r\n                    method: 'post',\r\n                    url: `https://api.spotify.com/v1/playlists/${response.data.id}/tracks`,\r\n                    headers: headers,\r\n                    data: {\"uris\": playlistSongs}\r\n                }).then((response)=>{\r\n                    if (response.status === 201){\r\n                        alert(`Playlist Saved as: ${data.name}`)\r\n                    }else{\r\n                        alert(`error: ${response.status}, ${response.statusText}`)\r\n                    }\r\n                    console.log(response)\r\n                })  \r\n            \r\n        }, (error) => {\r\n            console.log(error);\r\n            })\r\n        }\r\n\r\n    let addToPlaylist = (access_token, userData, playlistId, playlistSongs)=>{\r\n        const headers = {\r\n            'Authorization': 'Bearer ' + access_token,\r\n        }\r\n\r\n        axios({\r\n            method: 'put',\r\n            url: `https://api.spotify.com/v1/playlists/${playlistId}/tracks`,\r\n            headers: headers,\r\n            data: { \"uris\": playlistSongs }\r\n        }).then((response=>{\r\n            if (response.status === 201) {\r\n                alert('Playlist Overwritten!')\r\n            } else {\r\n                alert(`error: ${response.status}, ${response.statusText}`)\r\n            }\r\n            console.log(response)\r\n        }))\r\n    }\r\n\r\n        //handle textbox change event\r\n    let textboxOnChange = (text) => {\r\n        setPlaylistTextbox(text)\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div id='playlistInterface'>\r\n            <TextField id=\"outlined-basic\" label=\"Playlist Name\" variant=\"outlined\" onChange={(e) => textboxOnChange(e.target.value)} value={playlistTextbox}></TextField>\r\n            <div className='sp-button sp-flat sp-light' onClick={() => saveNew(access_token, userData, playlistTextbox, songIdOrder)} >Save as new Playlist</div>\r\n            <div className='sp-button sp-flat sp-light' onClick={() => addToPlaylist(access_token, userData, playlist.id, songIdOrder)}>Overwrite {playlist ? playlist.name : \" \"} Playlist</div>\r\n            \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PlaylistInterface","import React, {useState } from 'react';\r\nimport D3Chart from '../components/D3Chart'\r\nimport SpotifySelectors from '../components/SpotifySelectors';\r\nimport PlaylistInterface from '../components/PlaylistInterface';\r\n\r\nconst Home = (props) => {\r\n    const hash = window.location.hash\r\n    const access_token = hash.substring(14, hash.indexOf('&token_type'))\r\n\r\n\r\n    const [songsDetails, setSongsDetails] = useState(null)\r\n    const [trackAttribute, setTrackAttribute] = React.useState('tempo');\r\n    const [selectedPlaylist, setSelectedPlaylist] = useState(null)\r\n    const [songIdOrder, setSongIdOrder] = useState(null)\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <SpotifySelectors className = \"card\" access_token={access_token} setSongsDetails = {setSongsDetails} trackAttribute = {trackAttribute} setTrackAttribute = {setTrackAttribute} setSelectedPlaylist = {setSelectedPlaylist} selectedPlaylist = {selectedPlaylist}/>\r\n         \r\n            <hr/>\r\n            <div className='song-chart-frame'>\r\n                <PlaylistInterface playlist={selectedPlaylist} access_token={access_token} songIdOrder={songIdOrder} />\r\n                <D3Chart data={songsDetails} trackAttribute = {trackAttribute} setSongIdOrder = {setSongIdOrder}>\r\n                   \r\n                </D3Chart>\r\n            </div>\r\n\r\n        </div>\r\n        \r\n    ) \r\n\r\n}\r\nexport default Home","\r\nimport React, { useEffect } from 'react';\r\n\r\nconst Redirect = (props) => {\r\n    const clientId = process.env.REACT_APP_CLIENT_KEY;\r\n    let redirect_uri = ''\r\n    console.log(redirect_uri)\r\n    if (String(window.location.href)[String(window.location.href).length-1]===\"/\") {\r\n        redirect_uri = `${window.location.href}index`;\r\n    }else{\r\n        redirect_uri = `${window.location.href}/index`;\r\n    }\r\n    console.log(redirect_uri)\r\n\r\n    \r\n    const scopes = 'playlist-modify-private playlist-read-private playlist-modify-public'\r\n    useEffect(() => {\r\n        window.location.href = `https://accounts.spotify.com/authorize?client_id=${clientId}&scope=${encodeURIComponent(scopes)}&redirect_uri=${redirect_uri}&response_type=token&state=123`;\r\n\r\n\r\n    }, [clientId, redirect_uri]);\r\n\r\n    return (\r\n        <div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Redirect;","import React from \"react\";\nimport \"./App.css\";\nimport Home from \"./pages/Home\";\nimport Redirect from './components/Redirect'\nimport {BrowserRouter as Router,\n  Switch,\n  Route} from 'react-router-dom'\n// https://levelup.gitconnected.com/how-to-build-a-spotify-player-with-react-in-15-minutes-7e01991bc4b6\n\nconst App = (props) => {\n\n  return (\n\n    <div className=\"App\">\n      \n      <header className=\"App-header\">\n\n          <h2>JamSort</h2>\n        \n      </header>\n      <div className='body'>\n      <Router>\n        <Switch>\n            <Route path= \"/spotify-api-react-app/\" exact component={Redirect}/>\n            <Route path=\"/spotify-api-react-app/index\" exact component = {Home}/>\n        </Switch>\n      </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\n//pull in use styles from material u core. Pass in the degailt theme object\n//\nlet theme = createTheme({\n\n  palette: {\n    mode: 'dark',\n    primary: {\n      // light: will be calculated from palette.primary.main,\n     \n      main: '#FFFFFF',\n      light: '#FFFFF',\n      dark: '#FF0000',\n      backgroundColor: '#FFFFFF',\n      contrastText: '#FFFFFF'\n      // dark: will be calculated from palette.primary.main,\n      // contrastText: will be calculated to contrast with palette.primary.main\n    },\n    secondary: {\n      light: '#b3b3b3',\n      main: '#b3b3b3',\n      dark: '#181818',\n      // dark: will be calculated from palette.secondary.main,\n      contrastText: '#FFFFFF',\n    },\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold: 3,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: 0.2,\n  },\n\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme = {theme}>\n    <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}